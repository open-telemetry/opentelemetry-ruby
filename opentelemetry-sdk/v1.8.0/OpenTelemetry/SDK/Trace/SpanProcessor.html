<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: OpenTelemetry::SDK::Trace::SpanProcessor
  
    &mdash; OpenTelemetry
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "OpenTelemetry::SDK::Trace::SpanProcessor";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../OpenTelemetry.html" title="OpenTelemetry (module)">OpenTelemetry</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../SDK.html" title="OpenTelemetry::SDK (module)">SDK</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Trace.html" title="OpenTelemetry::SDK::Trace (module)">Trace</a></span></span>
     &raquo; 
    <span class="title">SpanProcessor</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: OpenTelemetry::SDK::Trace::SpanProcessor
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">OpenTelemetry::SDK::Trace::SpanProcessor</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/opentelemetry/sdk/trace/span_processor.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>SpanProcessor describes a duck type and provides synchronous no-op hooks for when a <span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">Span</a></span> is started or when a <span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">Span</a></span> is ended. It is not required to subclass this class to provide an implementation of SpanProcessor, provided the interface is satisfied.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#force_flush-instance_method" title="#force_flush (instance method)">#<strong>force_flush</strong>(timeout: nil)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Export all ended spans to the configured <code>Exporter</code> that have not yet been exported.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_finish-instance_method" title="#on_finish (instance method)">#<strong>on_finish</strong>(span)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called when a <span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">Span</a></span> is ended, if the <span class='object_link'><a href="Span.html#recording%3F-instance_method" title="OpenTelemetry::SDK::Trace::Span#recording? (method)">OpenTelemetry::SDK::Trace::Span#recording?</a></span> returns true.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_finishing-instance_method" title="#on_finishing (instance method)">#<strong>on_finishing</strong>(span)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The on_finishing method is an experimental feature and may have breaking changes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_start-instance_method" title="#on_start (instance method)">#<strong>on_start</strong>(span, parent_context)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called when a <span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">Span</a></span> is started, if the <span class='object_link'><a href="Span.html#recording%3F-instance_method" title="OpenTelemetry::SDK::Trace::Span#recording? (method)">OpenTelemetry::SDK::Trace::Span#recording?</a></span> returns true.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shutdown-instance_method" title="#shutdown (instance method)">#<strong>shutdown</strong>(timeout: nil)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called when <span class='object_link'><a href="TracerProvider.html#shutdown-instance_method" title="OpenTelemetry::SDK::Trace::TracerProvider#shutdown (method)">TracerProvider#shutdown</a></span> is called.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="force_flush-instance_method">
  
    #<strong>force_flush</strong>(timeout: nil)  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Export all ended spans to the configured <code>Exporter</code> that have not yet been exported.</p>

<p>This method should only be called in cases where it is absolutely necessary, such as when using some FaaS providers that may suspend the process after an invocation, but before the <code>Processor</code> exports the completed spans.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>timeout</span>
      
      
        <span class='type'>(<tt>optional Numeric</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>An optional timeout in seconds.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Export::SUCCESS if no error occurred, Export::FAILURE if a non-specific failure occurred, Export::TIMEOUT if a timeout occurred.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/sdk/trace/span_processor.rb', line 64</span>

<span class='kw'>def</span> <span class='id identifier rubyid_force_flush'>force_flush</span><span class='lparen'>(</span><span class='label'>timeout:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Export.html" title="OpenTelemetry::SDK::Trace::Export (module)">Export</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Export.html#SUCCESS-constant" title="OpenTelemetry::SDK::Trace::Export::SUCCESS (constant)">SUCCESS</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_finish-instance_method">
  
    #<strong>on_finish</strong>(span)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Called when a <span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">OpenTelemetry::SDK::Trace::Span</a></span> is ended, if the <span class='object_link'><a href="Span.html#recording%3F-instance_method" title="OpenTelemetry::SDK::Trace::Span#recording? (method)">OpenTelemetry::SDK::Trace::Span#recording?</a></span> returns true.</p>

<p>This method is called synchronously on the execution thread, should not throw or block the execution thread.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>span</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">Span</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the <span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">OpenTelemetry::SDK::Trace::Span</a></span> that just ended.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/sdk/trace/span_processor.rb', line 51</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_finish'>on_finish</span><span class='lparen'>(</span><span class='id identifier rubyid_span'>span</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_finishing-instance_method">
  
    #<strong>on_finishing</strong>(span)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>The on_finishing method is an experimental feature and may have breaking changes. The OpenTelemetry specification defines it as “On Ending”. As <code>end</code> is a reserved keyword in Ruby, we are using <code>on_finishing</code> instead.</p>

<p>Called when a <span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">OpenTelemetry::SDK::Trace::Span</a></span> is ending, after the end timestamp has been set but before span becomes immutable. This allows for updating the span by setting attributes or adding links and events.</p>

<p>This method is called synchronously and should not block the current thread nor throw exceptions.</p>

<p>This method is optional on the Span Processor interface. It will only get called if it exists within the processor.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>span</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">Span</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the <span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">OpenTelemetry::SDK::Trace::Span</a></span> that just is ending (still mutable).</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/sdk/trace/span_processor.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_finishing'>on_finishing</span><span class='lparen'>(</span><span class='id identifier rubyid_span'>span</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_start-instance_method">
  
    #<strong>on_start</strong>(span, parent_context)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Called when a <span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">OpenTelemetry::SDK::Trace::Span</a></span> is started, if the <span class='object_link'><a href="Span.html#recording%3F-instance_method" title="OpenTelemetry::SDK::Trace::Span#recording? (method)">OpenTelemetry::SDK::Trace::Span#recording?</a></span> returns true.</p>

<p>This method is called synchronously on the execution thread, should not throw or block the execution thread.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>span</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">Span</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the <span class='object_link'><a href="Span.html" title="OpenTelemetry::SDK::Trace::Span (class)">OpenTelemetry::SDK::Trace::Span</a></span> that just started.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parent_context</span>
      
      
        <span class='type'>(<tt>Context</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the parent Context of the newly started span.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/sdk/trace/span_processor.rb', line 24</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_start'>on_start</span><span class='lparen'>(</span><span class='id identifier rubyid_span'>span</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_context'>parent_context</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shutdown-instance_method">
  
    #<strong>shutdown</strong>(timeout: nil)  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Called when <span class='object_link'><a href="TracerProvider.html#shutdown-instance_method" title="OpenTelemetry::SDK::Trace::TracerProvider#shutdown (method)">TracerProvider#shutdown</a></span> is called.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>timeout</span>
      
      
        <span class='type'>(<tt>optional Numeric</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>An optional timeout in seconds.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Export::SUCCESS if no error occurred, Export::FAILURE if a non-specific failure occurred, Export::TIMEOUT if a timeout occurred.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/sdk/trace/span_processor.rb', line 73</span>

<span class='kw'>def</span> <span class='id identifier rubyid_shutdown'>shutdown</span><span class='lparen'>(</span><span class='label'>timeout:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Export.html" title="OpenTelemetry::SDK::Trace::Export (module)">Export</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Export.html#SUCCESS-constant" title="OpenTelemetry::SDK::Trace::Export::SUCCESS (constant)">SUCCESS</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Feb 25 21:54:38 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.1.6).
</div>

    </div>
  </body>
</html>