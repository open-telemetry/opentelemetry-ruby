<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: OpenTelemetry::Trace::Span
  
    &mdash; OpenTelemetry
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "OpenTelemetry::Trace::Span";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../OpenTelemetry.html" title="OpenTelemetry (module)">OpenTelemetry</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Trace.html" title="OpenTelemetry::Trace (module)">Trace</a></span></span>
     &raquo; 
    <span class="title">Span</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: OpenTelemetry::Trace::Span
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">OpenTelemetry::Trace::Span</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/opentelemetry/trace/span.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Span represents a single operation within a trace. Spans can be nested to form a trace tree. Often, a trace contains a root span that describes the end-to-end latency and, optionally, one or more sub-spans for its sub-operations.</p>

<p>Once Span <span class='object_link'><a href="Tracer.html#start_span-instance_method" title="OpenTelemetry::Trace::Tracer#start_span (method)">is created</a></span> - Span operations can be used to add additional properties to it like attributes, links, events, name and resulting status. Span cannot be used to retrieve these properties. This prevents the mis-use of spans as an in-process information propagation mechanism.</p>

<p><span class='object_link'><a href="" title="OpenTelemetry::Trace::Span (class)">Span</a></span> must be ended by calling <span class='object_link'><a href="#finish-instance_method" title="OpenTelemetry::Trace::Span#finish (method)">#finish</a></span>.</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="INVALID-constant" class="">INVALID =
          
        </dt>
        <dd><pre class="code"><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>span_context:</span> <span class='const'><span class='object_link'><a href="SpanContext.html" title="OpenTelemetry::Trace::SpanContext (class)">SpanContext</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="SpanContext.html#INVALID-constant" title="OpenTelemetry::Trace::SpanContext::INVALID (constant)">INVALID</a></span></span><span class='rparen'>)</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#context-instance_method" title="#context (instance method)">#<strong>context</strong>  &#x21d2; SpanContext </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Retrieve the spans SpanContext.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_attributes-instance_method" title="#add_attributes (instance method)">#<strong>add_attributes</strong>(attributes)  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add attributes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_event-instance_method" title="#add_event (instance method)">#<strong>add_event</strong>(name, attributes: nil, timestamp: nil)  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add an event to a <span class='object_link'><a href="" title="OpenTelemetry::Trace::Span (class)">Span</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_link-instance_method" title="#add_link (instance method)">#<strong>add_link</strong>(link)  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a link to a <span class='object_link'><a href="" title="OpenTelemetry::Trace::Span (class)">Span</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attributes-instance_method" title="#attributes (instance method)">#<strong>attributes</strong>  &#x21d2; hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Retrieve attributes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#events-instance_method" title="#events (instance method)">#<strong>events</strong>  &#x21d2; array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Retrieve events.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#finish-instance_method" title="#finish (instance method)">#<strong>finish</strong>(end_timestamp: nil)  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Finishes the Span.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(span_context: nil)  &#x21d2; Span </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>Spans must be created using <span class='object_link'><a href="Tracer.html" title="OpenTelemetry::Trace::Tracer (class)">Tracer</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name=-instance_method" title="#name= (instance method)">#<strong>name=</strong>(new_name)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Updates the Span name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#record_exception-instance_method" title="#record_exception (instance method)">#<strong>record_exception</strong>(exception, attributes: nil)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Record an exception during the execution of this span.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recording%3F-instance_method" title="#recording? (instance method)">#<strong>recording?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return whether this span is recording.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_attribute-instance_method" title="#set_attribute (instance method)">#<strong>set_attribute</strong>(key, value)  &#x21d2; self </a>
    

    
      (also: #[]=)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set attribute.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#status=-instance_method" title="#status= (instance method)">#<strong>status=</strong>(status)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the Status to the Span.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(span_context: nil)  &#x21d2; <tt><span class='object_link'><a href="" title="OpenTelemetry::Trace::Span (class)">Span</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>Spans must be created using <span class='object_link'><a href="Tracer.html" title="OpenTelemetry::Trace::Tracer (class)">Tracer</a></span>. This is for internal use only.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 32</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>span_context:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@context</span> <span class='op'>=</span> <span class='id identifier rubyid_span_context'>span_context</span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="SpanContext.html" title="OpenTelemetry::Trace::SpanContext (class)">SpanContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="SpanContext.html#initialize-instance_method" title="OpenTelemetry::Trace::SpanContext#initialize (method)">new</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="context-instance_method">
  
    #<strong>context</strong>  &#x21d2; <tt><span class='object_link'><a href="SpanContext.html" title="OpenTelemetry::Trace::SpanContext (class)">SpanContext</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Retrieve the spans SpanContext</p>

<p>The returned value may be used even after the Span is finished.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="SpanContext.html" title="OpenTelemetry::Trace::SpanContext (class)">SpanContext</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 27</span>

<span class='kw'>def</span> <span class='id identifier rubyid_context'>context</span>
  <span class='ivar'>@context</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_attributes-instance_method">
  
    #<strong>add_attributes</strong>(attributes)  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add attributes</p>

<p>Note that the OpenTelemetry project <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/data-semantic-conventions.md" target="_parent" title="documents">documents</a> certain “standard attributes” that have prescribed semantic meanings.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attributes</span>
      
      
        <span class='type'>(<tt>Hash{String =&gt; String, Numeric, Boolean, Array&lt;String, Numeric, Boolean&gt;}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Values must be non-nil and (array of) string, boolean or numeric type. Array values must not contain nil elements and all elements must be of the same basic type (string, numeric, boolean).</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returns itself</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_attributes'>add_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_attributes'>attributes</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_event-instance_method">
  
    #<strong>add_event</strong>(name, attributes: nil, timestamp: nil)  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add an event to a <span class='object_link'><a href="" title="OpenTelemetry::Trace::Span (class)">OpenTelemetry::Trace::Span</a></span>.</p>

<p>Example:</p>

<p>span.add_event(‘event’, attributes: =&gt; true)</p>

<p>Note that the OpenTelemetry project <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/data-semantic-conventions.md" target="_parent" title="documents">documents</a> certain “standard event names and keys” which have prescribed semantic meanings.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Name of the event.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attributes</span>
      
      
        <span class='type'>(<tt>optional Hash{String =&gt; String, Numeric, Boolean, Array&lt;String, Numeric, Boolean&gt;}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>One or more key:value pairs, where the keys must be strings and the values may be (array of) string, boolean or numeric type.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>timestamp</span>
      
      
        <span class='type'>(<tt>optional Time</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Optional timestamp for the event.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returns itself</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 134</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_event'>add_event</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>attributes:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>timestamp:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_link-instance_method">
  
    #<strong>add_link</strong>(link)  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a link to a <span class='object_link'><a href="" title="OpenTelemetry::Trace::Span (class)">OpenTelemetry::Trace::Span</a></span>.</p>

<p>Adding links at span creation using the <code>links</code> option is preferred to calling add_link later, because head sampling decisions can only consider information present during span creation.</p>

<p>Example:</p>

<p>span.add_link(OpenTelemetry::Trace::Link.new(span_to_link_from.context))</p>

<p>Note that the OpenTelemetry project <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/data-semantic-conventions.md" target="_parent" title="documents">documents</a> certain “standard attributes” that have prescribed semantic meanings.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>the</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Link.html" title="OpenTelemetry::Trace::Link (class)">OpenTelemetry::Trace::Link</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>link object to add on the <span class='object_link'><a href="" title="OpenTelemetry::Trace::Span (class)">OpenTelemetry::Trace::Span</a></span>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returns itself</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_link'>add_link</span><span class='lparen'>(</span><span class='id identifier rubyid_link'>link</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="attributes-instance_method">
  
    #<strong>attributes</strong>  &#x21d2; <tt>hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Retrieve attributes</p>

<p>Note that the OpenTelemetry project <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/data-semantic-conventions.md" target="_parent" title="documents">documents</a> certain “standard attributes” that have prescribed semantic meanings.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returns empty hash</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 89</span>

<span class='kw'>def</span> <span class='id identifier rubyid_attributes'>attributes</span>
  <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="events-instance_method">
  
    #<strong>events</strong>  &#x21d2; <tt>array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Retrieve events</p>

<p>Note that the OpenTelemetry project <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/data-semantic-conventions.md" target="_parent" title="documents">documents</a> certain “standard event names and keys” which have prescribed semantic meanings.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returns empty array</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_events'>events</span>
  <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="finish-instance_method">
  
    #<strong>finish</strong>(end_timestamp: nil)  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Finishes the Span</p>

<p>Implementations MUST ignore all subsequent calls to <span class='object_link'><a href="#finish-instance_method" title="OpenTelemetry::Trace::Span#finish (method)">#finish</a></span> (there might be exceptions when Tracer is streaming event and has no mutable state associated with the Span).</p>

<p>Call to <span class='object_link'><a href="#finish-instance_method" title="OpenTelemetry::Trace::Span#finish (method)">#finish</a></span> MUST not have any effects on child spans. Those may still be running and can be ended later.</p>

<p>This API MUST be non-blocking.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>end_timestamp</span>
      
      
        <span class='type'>(<tt>Time</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>optional end timestamp for the span.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returns itself</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 200</span>

<span class='kw'>def</span> <span class='id identifier rubyid_finish'>finish</span><span class='lparen'>(</span><span class='label'>end_timestamp:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name=-instance_method">
  
    #<strong>name=</strong>(new_name)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Updates the Span name</p>

<p>Upon this update, any sampling behavior based on Span name will depend on the implementation.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>new_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new operation name, which supersedes whatever was passed in when the Span was started</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 184</span>

<span class='kw'>def</span> <span class='id identifier rubyid_name='>name=</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="record_exception-instance_method">
  
    #<strong>record_exception</strong>(exception, attributes: nil)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Record an exception during the execution of this span. Multiple exceptions can be recorded on a span.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>exception</span>
      
      
        <span class='type'>(<tt>Exception</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The exception to recorded</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>attributes</span>
      
      
        <span class='type'>(<tt>optional Hash{String =&gt; String, Numeric, Boolean, Array&lt;String, Numeric, Boolean&gt;}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>One or more key:value pairs, where the keys must be strings and the values may be (array of) string, boolean or numeric type.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 160</span>

<span class='kw'>def</span> <span class='id identifier rubyid_record_exception'>record_exception</span><span class='lparen'>(</span><span class='id identifier rubyid_exception'>exception</span><span class='comma'>,</span> <span class='label'>attributes:</span> <span class='kw'>nil</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="recording?-instance_method">
  
    #<strong>recording?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return whether this span is recording.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if this Span is active and recording information like events with the #add_event operation and attributes using</p>

<h1 id="label-set_attribute.">set_attribute.</h1>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_recording?'>recording?</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_attribute-instance_method">
  
    #<strong>set_attribute</strong>(key, value)  &#x21d2; <tt>self</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='[]=-instance_method'>[]=</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set attribute</p>

<p>Note that the OpenTelemetry project <a href="https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/data-semantic-conventions.md" target="_parent" title="documents">documents</a> certain “standard attributes” that have prescribed semantic meanings.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Boolean</tt>, <tt>Numeric</tt>, <tt>Array&lt;String, Numeric, Boolean&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Values must be non-nil and (array of) string, boolean or numeric type. Array values must not contain nil elements and all elements must be of the same basic type (string, numeric, boolean).</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returns itself</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 59</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_attribute'>set_attribute</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="status=-instance_method">
  
    #<strong>status=</strong>(status)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Sets the Status to the Span</p>

<p>If used, this will override the default Span status. Default status is unset.</p>

<p>Only the value of the last call will be recorded, and implementations are free to ignore previous calls.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>status</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Status.html" title="OpenTelemetry::Trace::Status (class)">Status</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new status, which overrides the default Span status, which is OK.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/span.rb', line 173</span>

<span class='kw'>def</span> <span class='id identifier rubyid_status='>status=</span><span class='lparen'>(</span><span class='id identifier rubyid_status'>status</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Aug 14 17:38:01 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.1.6).
</div>

    </div>
  </body>
</html>