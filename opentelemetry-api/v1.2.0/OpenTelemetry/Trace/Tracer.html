<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: OpenTelemetry::Trace::Tracer
  
    &mdash; OpenTelemetry
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "OpenTelemetry::Trace::Tracer";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../OpenTelemetry.html" title="OpenTelemetry (module)">OpenTelemetry</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Trace.html" title="OpenTelemetry::Trace (module)">Trace</a></span></span>
     &raquo; 
    <span class="title">Tracer</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: OpenTelemetry::Trace::Tracer
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">OpenTelemetry::Trace::Tracer</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/opentelemetry/trace/tracer.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>No-op implementation of Tracer.</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="../Internal/ProxyTracer.html" title="OpenTelemetry::Internal::ProxyTracer (class)">Internal::ProxyTracer</a></span></p>
</div>







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#in_span-instance_method" title="#in_span (instance method)">#<strong>in_span</strong>(name, attributes: nil, links: nil, start_timestamp: nil, kind: nil) {|span, context| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is a helper for the default use-case of extending the current trace with a span.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start_root_span-instance_method" title="#start_root_span (instance method)">#<strong>start_root_span</strong>(name, attributes: nil, links: nil, start_timestamp: nil, kind: nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start_span-instance_method" title="#start_span (instance method)">#<strong>start_span</strong>(name, with_parent: nil, attributes: nil, links: nil, start_timestamp: nil, kind: nil)  &#x21d2; Span </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Used when a caller wants to manage the activation/deactivation and lifecycle of the Span and its parent manually.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="in_span-instance_method">
  
    #<strong>in_span</strong>(name, attributes: nil, links: nil, start_timestamp: nil, kind: nil) {|span, context| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This is a helper for the default use-case of extending the current trace with a span.</p>

<p>With this helper:</p>

<p>OpenTelemetry.tracer.in_span(&#39;do-the-thing&#39;) do … end</p>

<p>Equivalent without helper:</p>

<p>OpenTelemetry::Trace.with_span(tracer.start_span(&#39;do-the-thing&#39;)) do … end</p>

<p>On exit, the Span that was active before calling this method will be reactivated. If an exception occurs during the execution of the provided block, it will be recorded on the span and reraised.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>span</tt>, <tt>context</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>yields the newly created span and a context containing the span to the block.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28
29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/tracer.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_in_span'>in_span</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>attributes:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>links:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>start_timestamp:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>kind:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_span'>span</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_span'>span</span> <span class='op'>=</span> <span class='id identifier rubyid_start_span'>start_span</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>attributes:</span> <span class='id identifier rubyid_attributes'>attributes</span><span class='comma'>,</span> <span class='label'>links:</span> <span class='id identifier rubyid_links'>links</span><span class='comma'>,</span> <span class='label'>start_timestamp:</span> <span class='id identifier rubyid_start_timestamp'>start_timestamp</span><span class='comma'>,</span> <span class='label'>kind:</span> <span class='id identifier rubyid_kind'>kind</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../Trace.html" title="OpenTelemetry::Trace (module)">Trace</a></span></span><span class='period'>.</span><span class='id identifier rubyid_with_span'><span class='object_link'><a href="../Trace.html#with_span-instance_method" title="OpenTelemetry::Trace#with_span (method)">with_span</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_span'>span</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span> <span class='comment'># rubocop:disable Lint/RescueException
</span>  <span class='id identifier rubyid_span'>span</span><span class='op'>&amp;.</span><span class='id identifier rubyid_record_exception'>record_exception</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_span'>span</span><span class='op'>&amp;.</span><span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Status.html" title="OpenTelemetry::Trace::Status (class)">Status</a></span></span><span class='period'>.</span><span class='id identifier rubyid_error'><span class='object_link'><a href="Status.html#error-class_method" title="OpenTelemetry::Trace::Status.error (method)">error</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unhandled exception of type: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span>
<span class='kw'>ensure</span>
  <span class='id identifier rubyid_span'>span</span><span class='op'>&amp;.</span><span class='id identifier rubyid_finish'>finish</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start_root_span-instance_method">
  
    #<strong>start_root_span</strong>(name, attributes: nil, links: nil, start_timestamp: nil, kind: nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/tracer.rb', line 38</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start_root_span'>start_root_span</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>attributes:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>links:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>start_timestamp:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>kind:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Span.html" title="OpenTelemetry::Trace::Span (class)">Span</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Span.html#INVALID-constant" title="OpenTelemetry::Trace::Span::INVALID (constant)">INVALID</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start_span-instance_method">
  
    #<strong>start_span</strong>(name, with_parent: nil, attributes: nil, links: nil, start_timestamp: nil, kind: nil)  &#x21d2; <tt><span class='object_link'><a href="Span.html" title="OpenTelemetry::Trace::Span (class)">Span</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Used when a caller wants to manage the activation/deactivation and lifecycle of the Span and its parent manually.</p>

<p>Parent context can be either passed explicitly, or inferred from currently activated span.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>with_parent</span>
      
      
        <span class='type'>(<tt>optional <span class='object_link'><a href="../Context.html" title="OpenTelemetry::Context (class)">Context</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Explicitly managed parent context</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Span.html" title="OpenTelemetry::Trace::Span (class)">Span</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


50
51
52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/opentelemetry/trace/tracer.rb', line 50</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start_span'>start_span</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>with_parent:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>attributes:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>links:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>start_timestamp:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>kind:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_span'>span</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../OpenTelemetry.html" title="OpenTelemetry (module)">OpenTelemetry</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Trace.html" title="OpenTelemetry::Trace (module)">Trace</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_span'><span class='object_link'><a href="../Trace.html#current_span-instance_method" title="OpenTelemetry::Trace#current_span (method)">current_span</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_with_parent'>with_parent</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_span'>span</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_valid?'>valid?</span>
    <span class='id identifier rubyid_span'>span</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="Span.html" title="OpenTelemetry::Trace::Span (class)">Span</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Span.html#INVALID-constant" title="OpenTelemetry::Trace::Span::INVALID (constant)">INVALID</a></span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Jun 13 14:46:21 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.0.6).
</div>

    </div>
  </body>
</html>